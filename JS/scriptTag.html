<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>HTML 中的 Script 标签 | 前端学习博客</title>
    <meta name="generator" content="VuePress 1.7.1">
    
    <meta name="description" content="记录学习的前端知识">
    
    <link rel="preload" href="/blog/assets/css/0.styles.627cdc38.css" as="style"><link rel="preload" href="/blog/assets/js/app.e8d891b4.js" as="script"><link rel="preload" href="/blog/assets/js/2.f7988eb6.js" as="script"><link rel="preload" href="/blog/assets/js/8.86781a8a.js" as="script"><link rel="prefetch" href="/blog/assets/js/10.4797d7a0.js"><link rel="prefetch" href="/blog/assets/js/11.70440a28.js"><link rel="prefetch" href="/blog/assets/js/12.0c63a8d1.js"><link rel="prefetch" href="/blog/assets/js/13.5c0ca105.js"><link rel="prefetch" href="/blog/assets/js/14.012a1274.js"><link rel="prefetch" href="/blog/assets/js/15.07da580c.js"><link rel="prefetch" href="/blog/assets/js/16.16bbc866.js"><link rel="prefetch" href="/blog/assets/js/3.a6c513fe.js"><link rel="prefetch" href="/blog/assets/js/4.151259f0.js"><link rel="prefetch" href="/blog/assets/js/5.81bc03b0.js"><link rel="prefetch" href="/blog/assets/js/6.370b6a50.js"><link rel="prefetch" href="/blog/assets/js/7.ad0762a4.js"><link rel="prefetch" href="/blog/assets/js/9.2a8a8870.js">
    <link rel="stylesheet" href="/blog/assets/css/0.styles.627cdc38.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container reform"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/blog/" class="home-link router-link-active"><!----> <span class="site-name">前端学习博客</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/blog/" class="nav-link"><!---->
首页</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><!----> <span class="title">前端</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog/CSS/button.html" class="nav-link"><!---->
HTML+CSS</a></li><li class="dropdown-item"><!----> <a href="/blog/JS/introduce.html" class="nav-link"><!---->
JavaScript</a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/blog/" class="nav-link"><!---->
首页</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><!----> <span class="title">前端</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog/CSS/button.html" class="nav-link"><!---->
HTML+CSS</a></li><li class="dropdown-item"><!----> <a href="/blog/JS/introduce.html" class="nav-link"><!---->
JavaScript</a></li></ul></div></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>JavaScript</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/blog/JS/introduce.html" class="sidebar-link">什么是JavaScript</a></li><li><a href="/blog/JS/scriptTag.html" aria-current="page" class="active sidebar-link">script标签</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/blog/JS/var.html" class="sidebar-link">var,let,const关键字区别</a></li><li><a href="/blog/JS/primitive.html" class="sidebar-link">JS数据类型之原始值</a></li><li><a href="/blog/JS/reference.html" class="sidebar-link">JS数据类型之引用值</a></li><li><a href="/blog/JS/executionContext.html" class="sidebar-link">JavaScript执行上下文</a></li><li><a href="/blog/JS/scopeChain.html" class="sidebar-link">作用域和作用域链</a></li></ul></section></li></ul> </aside> <main class="page" data-v-4a05a1b5> <!----> <div class="content theme-default-content content__default" data-v-4a05a1b5><h3 id="html-中的-script-标签"><a href="#html-中的-script-标签" class="header-anchor">#</a> HTML 中的 Script 标签</h3> <ol><li><p><strong>&lt;script&gt;元素</strong></p> <p>HTML 中引入 JavaScript 脚本的主要方法通过&lt;script&gt;标签, 此标签有如下常见属性:</p> <ul><li><strong>async</strong></li></ul> <p>此属性表示立即下载脚本,但不阻塞其他页面动作. 例如下载 CSS、Image 以及其他脚本加载. 但只对外部引入脚本有效</p> <ul><li><strong>defer</strong></li></ul> <p>此属性表示文档解析和显示完成后再执行. 也是只对外部引入脚本有效</p> <ul><li><strong>src</strong></li></ul> <p>此属性表示引入 Js 脚本资源地址, 地址可以是相对路径或是网络请求地址</p> <div class="language-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>./example.js<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://www.demo.com/example.js<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><ul><li><strong>type</strong></li></ul> <p>此时属性代表代码块中脚本语言内容的类型(MIME 类型) 例如 以前经常添加的 text/javascript 后面有添加了 module 类型 值为 module 后, 代码就支持 ES6 的模块化了,即支持 export 和 import</p></li> <li><p><strong>&lt;script&gt;的使用方式</strong></p> <ul><li><strong>嵌入行内</strong></li></ul> <div class="language-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
  <span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">doc</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// dosomething...</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span>document<span class="token punctuation">)</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><div class="custom-block warning"><p class="custom-block-title">注意</p> <p>在行内代码中最好不出现字符串, 将会导致浏览器报错. 当然也有解决办法, 通过转义字符即可: &lt;/script&gt;</p></div> <ul><li><strong>外部引入</strong></li></ul> <p>外部引入就必须使用 src 属性 通过资源地址引入外部脚本.</p> <div class="custom-block tip"><p class="custom-block-title">要点</p> <ol><li>&lt;\script&gt;标签会阻塞页面(在标签属性没有 async 或 defer 时)</li> <li>外部引入脚本和嵌入行内同时存在, 将会忽略行内代码.</li> <li>外部引入脚本不受同源策略限制,即可以跨域请求脚本资源</li> <li>标签摆放的位置最好是放在 body 的最后面,而不是 head 标签里面, 因为放在 head 里会导致页面在一定时间完全空白
也是因为要点 1 的特性导致的, 当然你也可以使用 async 或 defer 属性来异步请求资源.</li></ol></div> <ul><li><p><strong>动态加载</strong>
通过 Javascript 的 DOM API 动态的添加 script 标签</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">let</span> script <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">&quot;script&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
script<span class="token punctuation">.</span>src <span class="token operator">=</span> <span class="token string">&quot;example.js&quot;</span><span class="token punctuation">;</span>
document<span class="token punctuation">.</span>head<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>script<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>一般动态添加脚本都是异步, 要动态添加 async 属性, 但是 async 属性不是所有浏览器都支持,
设置同步也可能影响获取资源的优先级以及影响性能的可能性. 可以通过以下代码使浏览器知道哪些是动态请求文件</p> <div class="language-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>preload<span class="token punctuation">&quot;</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>example.js<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div></li></ul></li></ol> <ol start="3"><li><strong>async 与 defer 的异同</strong></li></ol> <ul><li><p>共同点</p> <ul><li>两者都只对外部引入资源有效</li> <li>都是立刻下载</li></ul></li> <li><p>不同点</p> <ul><li><p>加载时机不同</p> <p><strong>defer</strong>: 脚本在执行的时候不会改变页面的结构, 他会让浏览器立刻加载,但是推迟执行</p> <p><strong>async</strong>: 让浏览器不必等脚本下载和执行完后加载页面或加载其他脚本</p></li> <li><p>执行顺序</p> <p><strong>defer</strong>: 多个 defer 执行属性是自上而下顺序</p> <p><strong>async</strong>: 多个 async 不能保证执行顺序(最好不要修改 DOM 有风险)</p> <p>如下图 async 和 defer 以及无两者属性的执行顺序:</p> <p><img src="/blog/assets/img/AsyncAndDefer.244a0c32.jpg" alt="Async与Defer比较"></p></li></ul></li></ul></div> <footer class="page-edit" data-v-4a05a1b5><!----> <!----></footer> <div class="page-nav" data-v-4a05a1b5><p class="inner" data-v-4a05a1b5><span class="prev" data-v-4a05a1b5>
        ←
        <a href="/blog/JS/introduce.html" class="prev" data-v-4a05a1b5>什么是JavaScript</a></span> <span class="next" data-v-4a05a1b5><a href="/blog/JS/var.html" data-v-4a05a1b5>var,let,const关键字区别</a>→
      </span></p></div> <div id="gitalk-container" data-v-4a05a1b5></div> </main></div><div class="global-ui"></div></div>
    <script src="/blog/assets/js/app.e8d891b4.js" defer></script><script src="/blog/assets/js/2.f7988eb6.js" defer></script><script src="/blog/assets/js/8.86781a8a.js" defer></script>
  </body>
</html>
